[07:18:23] INFO [test_server_health] Testing server health
[07:18:23] INFO [test_server_health] Profile endpoint response: 200, {"name":"Gad Mohamed","profession":"AI Engineer","favorite_color":"Blue","spirit_animal":"Owl"}
[07:18:24] INFO [test_server_health] Root endpoint response: 200, {"message":"LMS API is running"}
[07:18:24] INFO [test_server_health] Server is responding to requests
[07:18:24] INFO [test_upload_file] START
[07:18:24] INFO [registerUser] Registering user: None
[07:18:24] INFO [registerUser] Sending request to https://lms-swart-five.vercel.app/register with user data: {'username': 'testuser_e543c0a6', 'password': 'testpass123'}
[07:18:24] INFO [registerUser] Response status: 200, raw response: {"message":"Registered successfully","userId":586}
[07:18:24] INFO [registerUser] JSON response: {'message': 'Registered successfully', 'userId': 586}
[07:18:24] INFO [loginUser] Logging in user: {'username': 'testuser_e543c0a6', 'password': 'testpass123'}
[07:18:25] INFO [loginUser] Response status: 200, body: {'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlcl9lNTQzYzBhNiIsImV4cCI6MTc0NjM2MTEwNX0.HI2aJ1u-1HtVZfK632EkJ1YoJaEOFeN-2zO6K48IHds', 'token_type': 'bearer'}
[07:18:25] INFO [test_upload_file] Uploading file: testfile.txt
[07:18:25] INFO [test_upload_file] Response status: 200, body: {'filename': 'testfile.txt', 'size': 11, 'fileId': 12, 'uploaded_at': '2025-05-04T11:18:25.844227'}
[07:18:25] INFO [test_upload_file] END
[07:18:26] INFO [test_active_url_success] START
[07:18:26] INFO [test_active_url_success] Payload: {'url': 'https://example.com', 'title': 'Example Page'}
[07:18:26] INFO [test_active_url_success] Response status: 200, body: {'data': {'status': 'success'}}
[07:18:26] INFO [test_active_url_success] END
[07:18:26] INFO [test_active_url_missing_url] START
[07:18:26] INFO [test_active_url_missing_url] Payload: {'title': 'Example Page'}
[07:18:26] INFO [test_active_url_missing_url] Response status: 400, body: {'error': 'Missing URL'}
[07:18:26] INFO [test_active_url_missing_url] END
[07:18:26] INFO [test_profile] START
[07:18:26] INFO [test_profile] Response status: 200, body: {'name': 'Gad Mohamed', 'profession': 'AI Engineer', 'favorite_color': 'Blue', 'spirit_animal': 'Owl'}
[07:18:26] INFO [test_profile] END
[07:18:26] INFO [testQueryEndpoint] START
[07:18:26] INFO [registerUser] Registering user: None
[07:18:26] INFO [registerUser] Sending request to https://lms-swart-five.vercel.app/register with user data: {'username': 'testuser_25ad8a91', 'password': 'testpass123'}
[07:18:27] INFO [registerUser] Response status: 200, raw response: {"message":"Registered successfully","userId":587}
[07:18:27] INFO [registerUser] JSON response: {'message': 'Registered successfully', 'userId': 587}
[07:18:27] INFO [loginUser] Logging in user: {'username': 'testuser_25ad8a91', 'password': 'testpass123'}
[07:18:28] INFO [loginUser] Response status: 200, body: {'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlcl8yNWFkOGE5MSIsImV4cCI6MTc0NjM2MTEwOH0.1SPe_pe_BQeXT-FTdKvj6UtgZdOwFxmcOWFWNZgd1aQ', 'token_type': 'bearer'}
[07:18:28] INFO [testQueryEndpoint] Case 1: Missing JSON body
[07:18:28] INFO [testQueryEndpoint] Case 1 Response: 500, {"detail":"Error processing query: 400: Empty request body"}
[07:18:28] INFO [test_delete_user] START
[07:18:28] INFO [test_delete_user] Registering user: {'username': 'testuser_34044fda', 'password': 'testpass123'}
[07:18:28] INFO [registerUser] Registering user: {'username': 'testuser_34044fda', 'password': 'testpass123'}
[07:18:28] INFO [registerUser] Sending request to https://lms-swart-five.vercel.app/register with user data: {'username': 'testuser_34044fda', 'password': 'testpass123'}
[07:18:29] INFO [registerUser] Response status: 200, raw response: {"message":"Registered successfully","userId":588}
[07:18:29] INFO [registerUser] JSON response: {'message': 'Registered successfully', 'userId': 588}
[07:18:29] INFO [loginUser] Logging in user: {'username': 'testuser_34044fda', 'password': 'testpass123'}
[07:18:30] INFO [loginUser] Response status: 200, body: {'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlcl8zNDA0NGZkYSIsImV4cCI6MTc0NjM2MTExMH0.ljbheZYl1l3uxp0WVLSBQCIbLIow9uGq2ejwdMe-Uu4', 'token_type': 'bearer'}
[07:18:30] INFO [test_delete_user] Deleting user testuser_34044fda (self-delete)
[07:18:30] INFO [test_delete_user] Delete response: 200, {"message":"User 'testuser_34044fda' deleted successfully."}
[07:18:30] INFO [test_delete_user] Try deleting user testuser_34044fda again (should be not found/unauthorized)
[07:18:30] INFO [test_delete_user] Second delete response: 401, {"detail":"Invalid credentials"}
[07:18:30] INFO [test_delete_user] Re-registering user testuser_34044fda
[07:18:30] INFO [registerUser] Registering user: {'username': 'testuser_34044fda', 'password': 'testpass123'}
[07:18:30] INFO [registerUser] Sending request to https://lms-swart-five.vercel.app/register with user data: {'username': 'testuser_34044fda', 'password': 'testpass123'}
[07:18:31] INFO [registerUser] Response status: 200, raw response: {"message":"Registered successfully","userId":589}
[07:18:31] INFO [registerUser] JSON response: {'message': 'Registered successfully', 'userId': 589}
[07:18:31] INFO [test_delete_user] Registering second user: {'username': 'testuser_0d9bce12', 'password': 'testpass123'}
[07:18:31] INFO [registerUser] Registering user: {'username': 'testuser_0d9bce12', 'password': 'testpass123'}
[07:18:31] INFO [registerUser] Sending request to https://lms-swart-five.vercel.app/register with user data: {'username': 'testuser_0d9bce12', 'password': 'testpass123'}
[07:18:32] INFO [registerUser] Response status: 200, raw response: {"message":"Registered successfully","userId":590}
[07:18:32] INFO [registerUser] JSON response: {'message': 'Registered successfully', 'userId': 590}
[07:18:32] INFO [loginUser] Logging in user: {'username': 'testuser_0d9bce12', 'password': 'testpass123'}
[07:18:32] INFO [loginUser] Response status: 200, body: {'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlcl8wZDliY2UxMiIsImV4cCI6MTc0NjM2MTExM30.7skfGb2n2YIsN_SMjVly4HWGYXNOscCcV9oqM01hQ_8', 'token_type': 'bearer'}
[07:18:32] INFO [test_delete_user] Second user attempts to delete testuser_34044fda
[07:18:33] INFO [test_delete_user] Forbidden delete response: 403, {"detail":"You can only delete your own account."}
[07:18:33] INFO [test_delete_user] END
[07:18:33] INFO [test_list_files] START
[07:18:33] INFO [registerUser] Registering user: None
[07:18:33] INFO [registerUser] Sending request to https://lms-swart-five.vercel.app/register with user data: {'username': 'testuser_524ba9bc', 'password': 'testpass123'}
[07:18:34] INFO [registerUser] Response status: 200, raw response: {"message":"Registered successfully","userId":591}
[07:18:34] INFO [registerUser] JSON response: {'message': 'Registered successfully', 'userId': 591}
[07:18:34] INFO [loginUser] Logging in user: {'username': 'testuser_524ba9bc', 'password': 'testpass123'}
[07:18:34] INFO [loginUser] Response status: 200, body: {'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlcl81MjRiYTliYyIsImV4cCI6MTc0NjM2MTExNH0.2d-JwiwuAJ_uJxQoqxVlTCprLcZQfQ7UOXxX8rFBr4I', 'token_type': 'bearer'}
[07:18:34] INFO [test_list_files] Listing files
[07:18:35] INFO [test_list_files] Response status: 200, body: {'files': [], 'count': 0}
[07:18:35] INFO [test_list_files] END
[07:18:35] INFO [test_download_file] START
[07:18:35] INFO [registerUser] Registering user: None
[07:18:35] INFO [registerUser] Sending request to https://lms-swart-five.vercel.app/register with user data: {'username': 'testuser_fa4753e7', 'password': 'testpass123'}
[07:18:36] INFO [registerUser] Response status: 200, raw response: {"message":"Registered successfully","userId":592}
[07:18:36] INFO [registerUser] JSON response: {'message': 'Registered successfully', 'userId': 592}
[07:18:36] INFO [loginUser] Logging in user: {'username': 'testuser_fa4753e7', 'password': 'testpass123'}
[07:18:36] INFO [loginUser] Response status: 200, body: {'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlcl9mYTQ3NTNlNyIsImV4cCI6MTc0NjM2MTExN30.mC_lXjMPcr9ABxjU-C5jg0224l5NY4nvj9auMJCn5TI', 'token_type': 'bearer'}
[07:18:36] INFO [test_download_file] Uploading file: testfile.txt
[07:18:37] INFO [test_download_file] Upload response: {'filename': 'testfile.txt', 'size': 11, 'fileId': 13, 'uploaded_at': '2025-05-04T11:18:37.266706'}
[07:18:37] INFO [test_download_file] Downloading file with ID: 13
[07:18:37] INFO [test_download_file] Response status: 200, length: 11
[07:18:37] INFO [test_download_file] END
[07:18:37] INFO [test_delete_file] START
[07:18:37] INFO [registerUser] Registering user: None
[07:18:37] INFO [registerUser] Sending request to https://lms-swart-five.vercel.app/register with user data: {'username': 'testuser_159cf479', 'password': 'testpass123'}
[07:18:38] INFO [registerUser] Response status: 200, raw response: {"message":"Registered successfully","userId":593}
[07:18:38] INFO [registerUser] JSON response: {'message': 'Registered successfully', 'userId': 593}
[07:18:38] INFO [loginUser] Logging in user: {'username': 'testuser_159cf479', 'password': 'testpass123'}
[07:18:39] INFO [loginUser] Response status: 200, body: {'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0dXNlcl8xNTljZjQ3OSIsImV4cCI6MTc0NjM2MTExOX0.rtmvhqRo_ERnO0BvLnDms0bZ1hCN5O1X07QE2nXxJf8', 'token_type': 'bearer'}
[07:18:39] INFO [test_delete_file] Uploading file: testfile.txt
[07:18:39] INFO [test_delete_file] Upload response: {'filename': 'testfile.txt', 'size': 11, 'fileId': 14, 'uploaded_at': '2025-05-04T11:18:39.593176'}
[07:18:39] INFO [test_delete_file] Deleting file with ID: 14
[07:18:39] INFO [test_delete_file] Delete response: 200, {'message': "File 'testfile.txt' deleted successfully.", 'fileId': 14}
[07:18:40] INFO [test_delete_file] File list after delete: {'detail': 'Invalid credentials'}
[07:18:40] INFO [test_delete_file] END
